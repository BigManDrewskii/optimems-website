
# Optimems Website Audit & Remediation Plan

**Date:** February 13, 2026
**Author:** Manus AI

## 1. Introduction

This document presents a comprehensive audit of the Optimems website codebase, focusing on **theming** and **internationalization (i18n)** issues. The audit has identified several critical problems that affect user experience, maintainability, and scalability. 

Following the audit, a detailed step-by-step plan is provided to address each identified issue, ensuring the website becomes robust, visually consistent, and fully prepared for a production environment.

## 2. Executive Summary

The primary issues stem from two core areas:

- **Theming:** The theme system suffers from CSS variable conflicts, inconsistent asset handling between light and dark modes, and a noticeable "flash of incorrect theme" on initial page loads. These issues result in a jarring and unprofessional user experience.

- **Localization:** The internationalization system is plagued by a significant amount of hardcoded English text directly in the component files, bypassing the established `next-intl` translation system. This makes the website difficult to maintain, impossible to scale to new languages, and presents a mix of Greek and English content to the end-user.

This plan outlines a systematic approach to refactor the codebase, centralize all user-facing text into the i18n message files, and create a robust, flicker-free theming system.

## 3. Theming Issues Audit

The following table summarizes the key theming issues discovered during the audit.

| ID  | Issue                               | Severity | Impact                                                                                               | Recommendation                                                                                             | Files Affected                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             - | :--- | :--- | :--- | :--- | :--- |
| TH-1 | **Duplicate CSS Variables & Keyframes** | **Critical** | Overrides primary theme colors, causing visual inconsistencies (e.g., orbit animation colors clobbering main theme). | Consolidate all theme variables and keyframes into single, well-defined blocks in `globals.css`. | `app/globals.css` |
| TH-2 | **Theme Initialization Script Flaw** | **Critical** | Causes a "flash of incorrect theme" (FOIT) on initial load because the script reads the wrong `localStorage` key. | Correct the inline script in `app/layout.tsx` to read the `next-themes` default storage key (`theme`). | `app/layout.tsx` |
| TH-3 | **Missing Hydration Guards** | **High** | Using `resolvedTheme` without a `mounted` state guard causes server-client mismatches and potential hydration errors. | Implement the `useEffect` + `useState` mounting pattern in all components that switch assets based on the theme. | `ConsultHero.tsx`, `MindHero.tsx`, `OrbitGraphic.tsx`, `SolarTrust.tsx`, `SolarWhatIs.tsx`, `Hero.tsx` |
| TH-4 | **Hardcoded Pre-Mount Skeleton Theme** | **Medium** | The `Header` component's skeleton hardcodes a dark theme background, causing a flicker on light theme page loads. | Update the skeleton to use a neutral background or dynamically set the background based on the theme cookie. | `components/shared/Header/Header.tsx` |

## 4. Localization (i18n) Issues Audit

The following table summarizes the key localization issues discovered during the audit.

| ID  | Issue                               | Severity | Impact                                                                                                                                 | Recommendation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    - | :--- | :--- | :--- | :--- | :--- |
| L10N-1 | **Widespread Hardcoded Strings** | **Critical** | Massive amounts of English text are hardcoded in components, completely bypassing the i18n system. This is the root cause of the mixed-language display. | Systematically refactor all components to pull text from `messages/*.json` files using the `useTranslations` hook. Eliminate all `isGreek ? '...' : '...'` ternaries for text content. | `SolarHardware.tsx`, `ContactForm.tsx`, `CaseStudyCard.tsx`, `DashboardDemoCTA.tsx`, `WarrantyCard.tsx`, `contact/page.tsx`, and dozens more. |
| L10N-2 | **Content in Data Files** | **Critical** | Core content like navigation links, footer links, and team member bios are stored in English-only `.ts` data files, making them untranslatable. | Migrate all translatable content from `data/*.ts` files into the `messages/*.json` files and refactor components to consume this data from the i18n provider. | `data/landing-page.ts`, `data/about-us.ts`, `components/sections/Footer.tsx`, `components/shared/Header/Header.tsx` |
| L10N-3 | **Static Page Metadata** | **High** | Several pages use `export const metadata` with hardcoded English titles and descriptions, which is detrimental to SEO for the Greek locale. | Convert all pages with static metadata to use the `generateMetadata` function with `getTranslations` to provide localized titles and descriptions. | `about-us/page.tsx`, `partnership/page.tsx`, `privacy/page.tsx`, `terms/page.tsx`, `cookies/page.tsx`, `support/page.tsx` |
| L10N-4 | **Untranslated Greek Values** | **Medium** | The `messages/el.json` file contains over 50 values that are identical to their English counterparts, indicating they were missed during translation. | Review and translate all identified untranslated strings in `messages/el.json`. | `messages/el.json` |
| L10N-5 | **Inconsistent Translation Key Structure** | **Low** | The `footer.footerLinks` keys in the message files are comma-separated strings, which is brittle. The `el.json` file also contains 9 keys not present in `en.json`. | Refactor the `footerLinks` to be arrays of objects for better structure. Add the missing keys to `en.json` to ensure parity. | `messages/en.json`, `messages/el.json`, `components/sections/Footer.tsx` |

## 5. Remediation Plan (TODO)

This plan will be executed systematically to resolve all identified issues. Each step must be completed and verified before moving to the next.

### Phase 1: Theming Fixes

- [ ] **TH-1: Consolidate CSS Variables & Keyframes**
    - [ ] Move the `@keyframes` for `orbit-cw` and `orbit-ccw` to a single definition block.
    - [ ] Merge the duplicate `:root` and `.dark` blocks in `app/globals.css`. The variables for the orbit animation should be integrated into the main theme variable blocks.

- [ ] **TH-2: Fix Theme Initialization Script**
    - [ ] In `app/layout.tsx`, modify the inline script to use `localStorage.getItem('theme')` to correctly match the `next-themes` default storage key.

- [ ] **TH-3: Implement Hydration Guards**
    - [ ] For every component identified in the audit (e.g., `ConsultHero`, `MindHero`), add the `useEffect` and `useState` `mounted` guard before using `resolvedTheme` for asset switching.

- [ ] **TH-4: Fix Header Skeleton Theme**
    - [ ] In `components/shared/Header/Header.tsx`, change the hardcoded `grid-pattern-dark.png` in the pre-mount skeleton to a theme-neutral background or remove it.

### Phase 2: Localization Fixes (Content Migration & Refactoring)

- [ ] **L10N-2.1: Migrate Footer Links**
    - [ ] Restructure the `footer.footerLinks` and `footer.legalLinks` in `messages/en.json` and `messages/el.json` from comma-separated strings to arrays of objects (`{ 

label: string, href: string }`).
    - [ ] Refactor `components/sections/Footer.tsx` to parse these new arrays instead of relying on `data/landing-page.ts`.

- [ ] **L10N-2.2: Migrate Navigation Links**
    - [ ] The `primaryNavItems` in `components/shared/Header/Header.tsx` are constructed from `t()` calls, which is good. The structure is defined in the component. This is acceptable for now, but a future improvement would be to define the structure in the message files as well. For now, ensure all `t()` keys are correct and present in both locales.

- [ ] **L10N-2.3: Migrate `about-us.ts` Data**
    - [ ] Move the `teamMembers` array from `data/about-us.ts` into `messages/en.json` and `messages/el.json` under an `aboutUsPage.team.members` key.
    - [ ] Refactor `components/about-us/TeamSection.tsx` and `TeamMemberCard.tsx` to consume this data using `t.raw('aboutUsPage.team.members')`.

- [ ] **L10N-1.1: Refactor Hardcoded Component Strings (`isGreek` ternaries)**
    - [ ] Go through each file identified in the audit (`CaseStudyCard.tsx`, `ContactForm.tsx`, `contact/page.tsx`, etc.) and replace every `isGreek ? '...' : '...'` ternary with a `t('key.name')` call.
    - [ ] Add the corresponding new keys and translations to `messages/en.json` and `messages/el.json`.

- [ ] **L10N-1.2: Refactor Hardcoded Component Strings (Data Arrays)**
    - [ ] In `components/products/solar-control/SolarHardware.tsx`, the `keyFeatures` and `technicalSpecs` arrays are hardcoded in English.
    - [ ] Move this content into `messages/en.json` and `messages/el.json` under the `solarControlPage.hardwareOverview` key.
    - [ ] Refactor the component to use `t.raw('solarControlPage.hardwareOverview.features')` and `t.raw('solarControlPage.hardwareOverview.specs')`.

- [ ] **L10N-1.3: Refactor `WarrantyCard.tsx`**
    - [ ] The `warrantyFeatures` array is hardcoded in English.
    - [ ] The `warrantyFeatureKeys` constant already exists in `lib/i18n/translation-keys.ts`.
    - [ ] Refactor `WarrantyCard.tsx` to iterate over `warrantyFeatureKeys` and use `t(`warranty.features.${key}`)` to get the translated feature text.

- [ ] **L10N-3: Implement Dynamic Metadata**
    - [ ] For each page with static metadata (`about-us`, `partnership`, etc.), replace `export const metadata` with `export async function generateMetadata...`.
    - [ ] Inside `generateMetadata`, use `getTranslations` to fetch the appropriate locale's `meta.title` and `meta.description` keys.
    - [ ] Add these `meta` objects to the corresponding page sections in the message files.

- [ ] **L10N-4: Translate Missing Greek Values**
    - [ ] Using the list of 58 untranslated values, go into `messages/el.json` and provide the correct Greek translations.

- [ ] **L10N-5: Fix Translation Key Structure**
    - [ ] In `messages/en.json` and `messages/el.json`, change the `footer.footerLinks` from a string to an array of objects.
    - [ ] Add the 9 missing `pages.*` keys to `messages/en.json` to ensure parity.

### Phase 3: Final Validation & Testing

- [ ] **Visual Regression Testing**
    - [ ] Start the dev server (`npx next dev`).
    - [ ] Open the site in a browser and navigate through all pages in both English and Greek.
    - [ ] Switch between light and dark themes on every page and verify that all components, text, and assets render correctly without flashes or visual glitches.

- [ ] **Code Quality & Cleanup**
    - [ ] Run `npx next build` to ensure the project builds without any new errors or warnings.
    - [ ] Remove any unused data files from the `data/` directory that have been fully migrated to the i18n system.
    - [ ] Delete the `isGreek` variable from all components where it is no longer used.

- [ ] **Final Audit Report**
    - [ ] Update this document with the results of the remediation, confirming that all issues have been resolved.
    - [ ] Prepare a final delivery to the user, including the cleaned codebase and this report.
